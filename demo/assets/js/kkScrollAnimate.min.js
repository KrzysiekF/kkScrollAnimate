!function(s,t,e,r){"use strict";function i(t,e){this.element=t,this.settings=s.extend({},n,e),this._defaults=n,this._name=o,this.scrollRange=null,this.cssArgsBefore={},this.cssArgsAfter={},this.currentCss={},this.scrollFromTop=null,this.scrollFromLeft=null,this.beforeProp=null,this.afterProp=null,this.init()}var o="kkScrollAnimate",n={scrollContent:s("body"),startFromElement:!1,scrollType:"vertical",startScroll:0,endScroll:0,cssProperty:"",before:0,after:0,unit:""};s.extend(i.prototype,{init:function(){var e=this;if(this.scrollRange=this.settings.endScroll-this.settings.startScroll,this.cssArgsBefore[this.settings.cssProperty]=this.settings.before+this.settings.unit,this.cssArgsAfter[this.settings.cssProperty]=this.settings.after+this.settings.unit,this.settings.startFromElement){var r=s(this.settings.startFromElement),i=r.offset(),o=i.top,n=i.left,l=s(t).width(),h=s(t).height();this.scrollFromTop=o-h,this.scrollFromLeft=n-l,s(t).bind("resize",function(){l=s(t).width(),h=s(t).height(),e.scrollFromTop=o-h,e.scrollFromLeft=n-l})}"transform"==this.settings.cssProperty&&(this.cssArgsBefore["-webkit-transform"]=this.settings.before,this.cssArgsAfter["-webkit-transform"]=this.settings.after,this.cssArgsBefore["-moz-transform"]=this.settings.before,this.cssArgsAfter["-moz-transform"]=this.settings.after,this.settings.before.indexOf("deg")!=-1?(this.beforeProp=this.settings.before.split("("),this.beforeProp=this.beforeProp[1].split("deg"),this.beforeProp=parseFloat(this.beforeProp[0]),this.afterProp=this.settings.after.split("("),this.afterProp=this.afterProp[1].split("deg"),this.afterProp=parseFloat(this.afterProp[0])):this.settings.before.indexOf("scale")!=-1&&(this.beforeProp=this.settings.before.split("("),this.beforeProp=this.beforeProp[1].split(")"),this.beforeProp=parseFloat(this.beforeProp[0]),this.afterProp=this.settings.after.split("("),this.afterProp=this.afterProp[1].split(")"),this.afterProp=parseFloat(this.afterProp[0]))),this.settings.scrollContent.on("scroll",function(){e.onScroll()})},onScroll:function(){var t=null;"vertical"==this.settings.scrollType?(t=this.settings.scrollContent.scrollTop(),this.settings.startFromElement&&(t-=scrollFromTop)):"horizontal"==this.settings.scrollType&&(t=this.settings.scrollContent.scrollLeft(),this.settings.startFromElement&&(t-=scrollFromLeft));var e=(t-this.settings.startScroll)/this.scrollRange;if(t<this.settings.startScroll)"add-class"===this.settings.cssProperty?s(this.element).removeClass(this.cssArgsAfter["add-class"]):s(this.element).css(this.cssArgsBefore);else if(t>this.settings.endScroll)s(this.element).css(this.cssArgsAfter);else if("add-class"===this.settings.cssProperty)s(this.element).addClass(this.cssArgsAfter["add-class"]);else if("transform"==this.settings.cssProperty){var r=this.beforeProp+(this.afterProp-this.beforeProp)*e;if(this.settings.before.indexOf("rotate")!=-1)var i="rotate("+r+"deg)";else if(this.settings.before.indexOf("skew")!=-1)var i="skew("+r+"deg)";else if(this.settings.before.indexOf("scale")!=-1)var i="scale("+r+")";this.currentCss[this.settings.cssProperty]=i,this.currentCss["-moz-transform"]=i,this.currentCss["-webkit-transform"]=i,s(this.element).css(this.currentCss)}else this.currentCss[this.settings.cssProperty]=this.settings.before+(this.settings.after-this.settings.before)*e+this.settings.unit,s(this.element).css(this.currentCss)}}),s.fn[o]=function(t){return this.each(function(){s.data(this,"plugin_"+o)||s.data(this,"plugin_"+o,new i(this,t))})}}(jQuery,window,document);